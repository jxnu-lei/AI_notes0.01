# AI笔记插件

一个由AI驱动的智能笔记和信息管理工具，支持Edge浏览器，通过自然语言输入进行智能理解、自动组织、便捷提醒和灵活导出。

## 🎯 功能特性

### 核心功能
- **智能文本采集**：从网页中快速采集文本内容
- **AI自动分类**：自动将笔记分类到合适的目录
- **文件系统集成**：直接保存到本地文件系统，支持自定义存储路径
- **灵活的笔记格式**：支持Markdown格式，自动生成清晰的笔记结构
- **多模型支持**：兼容OpenAI、Claude、Gemini和本地模型

### 便捷操作
- **上下文菜单**：右键点击即可采集文本
- **快捷键支持**：提供多个快捷键提高效率
- **侧边栏界面**：直观的侧边栏操作界面
- **实时同步**：自动同步到本地文件系统

### 智能管理
- **自动生成文件名**：根据内容自动生成有意义的文件名
- **摘要和关键词**：自动提取笔记摘要和关键词
- **索引文件**：自动生成目录索引，方便查找
- **相似内容合并**：相似主题的笔记自动追加到同一文件

## 🚀 快速开始

### 安装方法

#### 本地开发安装
1. 克隆或下载本项目
2. 打开Edge浏览器，输入 `edge://extensions/`
3. 开启右上角的「开发者模式」
4. 点击「加载已解压的扩展」
5. 选择项目中的 `plugin` 文件夹
6. 插件安装完成，会在工具栏显示图标

#### 从商店安装
（待发布到Edge扩展商店后可用）

### 基本使用

1. **采集文本**：
   - 选择网页中的文本
   - 右键点击，选择「AI笔记」→「采集到笔记」
   - 或使用快捷键 `Ctrl+Shift+C`

2. **查看和编辑**：
   - 点击工具栏的插件图标打开侧边栏
   - 或使用快捷键 `Ctrl+Shift+B`
   - 在侧边栏中查看和编辑笔记

3. **配置存储路径**：
   - 点击插件图标，选择「选项」
   - 在「存储设置」中选择存储目录
   - 插件会自动在该目录下创建「AI笔记」文件夹

## ⚙️ 配置选项

### AI模型设置
- **自定义模型**：支持添加自定义AI模型

### 存储设置
- **存储目录**：选择笔记的保存位置
- **自动备份**：开启或关闭自动备份
- **备份频率**：设置备份频率

### 通知设置
- **开启通知**：接收笔记保存成功等通知
- **通知类型**：可自定义通知类型

## 📁 文件结构

插件安装后，会在您选择的存储目录下创建以下结构：

```
AI笔记/
├── 技术开发类/
│   ├── python/
│   │   ├── 目录.md          # 索引文件，包含摘要和关键词
│   │   ├── Python语法.md     # 笔记文件
│   │   └── 开发技巧.md       # 笔记文件
│   └── javascript/
│       ├── 目录.md
│       └── Vue组件.md
├── 学习笔记类/
│   ├── 数学/
│   │   ├── 目录.md
│   │   └── 数学公式.md
│   └── 英语/
│       ├── 目录.md
│       └── 英语单词.md
└── 生活记录类/
    ├── 日常感悟/
    │   ├── 目录.md
    │   └── 生活感悟.md
    └── 旅行/
        ├── 目录.md
        └── 旅行日记.md
```

## 🎨 技术架构

### 核心技术栈
- **前端框架**：原生JavaScript (ES6+)
- **浏览器API**：Chrome Extension API, File System Access API
- **存储方式**：IndexedDB, Chrome Storage API
- **架构模式**：Manifest V3

### 插件架构

```
├── background.js       # 后台服务工作者，处理核心逻辑
├── content.js          # 内容脚本，注入到网页
├── popup.js            # 侧边栏逻辑
├── options.js          # 选项页面逻辑
├── offscreen.js        # 离屏文档，处理文件系统操作
├── manifest.json       # 插件配置文件
└── icons/              # 插件图标
```

### 工作流程

1. **文本采集**：用户选择文本，触发采集事件
2. **AI分类**：后台调用AI模型进行分类和处理
3. **文件保存**：通过离屏文档保存到本地文件系统
4. **索引更新**：自动更新目录索引文件
5. **通知反馈**：向用户发送操作结果通知

## 🔧 开发说明

### 开发环境
- **浏览器**：Edge (Chromium)
- **开发模式**：Edge扩展开发者模式
- **调试工具**：Edge DevTools

### 开发命令

检查语法：
```bash
node --check plugin/background.js plugin/offscreen.js plugin/content.js plugin/popup.js plugin/options.js
```

### 项目结构

```
├── plugin/             # 插件主目录
│   ├── background.js   # 后台脚本
│   ├── content.js      # 内容脚本
│   ├── popup.html      # 侧边栏页面
│   ├── options.html    # 选项页面
│   ├── offscreen.html  # 离屏文档
│   └── manifest.json   # 配置文件
├── README.md           # 项目说明文档
└── 详细实施计划.md       # 开发计划
```

## 📝 系统提示词设计

插件使用精心设计的系统提示词，指导AI模型生成结构化的笔记内容：

- **内容分析**：理解主题、核心要点和关键信息
- **内容整理**：修正拼写、语法错误，美化格式
- **两级分类**：自动分类到合适的一级和二级分类
- **文件名命名**：生成简洁有意义的文件名
- **摘要和关键词**：提取核心要点和关键词

## 🔒 隐私与安全

- **本地存储**：所有笔记内容保存在您选择的本地目录，不发送到第三方服务器
- **API密钥安全**：API密钥仅存储在浏览器本地，用于调用AI模型
- **权限最小化**：仅请求必要的浏览器权限
- **透明化**：所有代码开源，可自行审计

## 🤝 贡献指南

欢迎您参与项目开发和改进！

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情

## 🙏 致谢

感谢所有为项目做出贡献的开发者和用户！

## 📞 联系方式

如果您有任何问题或建议，欢迎通过以下方式联系：
- 发送邮件到：leixy@jxnu.edu.cn

**AI笔记插件** - 让笔记管理更智能、更高效！
